package com.bzkj.controller.user;import com.alibaba.dubbo.config.annotation.Reference;import com.bzkj.controller.base.BaseController;import com.bzkj.entity.user.SysUser;import com.bzkj.facade.redis.RedisService;import com.bzkj.facade.user.UserService;import com.bzkj.req.LoginReq;import com.bzkj.rsp.Result;import com.bzkj.utils.KeyGenerator;import com.bzkj.utils.RedisPrefixUtil;import org.springframework.web.bind.annotation.RestController;import javax.servlet.http.HttpServletRequest;import java.util.concurrent.TimeUnit;/** * @description: * @author: jensen * @date: created by 2019/9/13 3:31 */@RestControllerpublic class UserControllerImpl extends BaseController implements UserController {    @Reference(version = "1.0.0")    private RedisService redisService;    @Reference(version = "1.0.0")    private UserService userService;    @Override    public Result login(LoginReq loginReq) {        SysUser user = userService.getUser(loginReq);        String token = KeyGenerator.getKey();        String userKey = RedisPrefixUtil.USER_Prefix + token;        redisService.put(userKey,user,24,TimeUnit.HOURS);        return Result.newSuccessResult(token);    }    @Override    public Result logout(HttpServletRequest httpReq) {        return null;    }}